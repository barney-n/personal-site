{"ast":null,"code":"/**\n * @typedef {import('mdast').Table} Table\n * @typedef {import('mdast').TableCell} TableCell\n * @typedef {import('hast').Element} Element\n * @typedef {import('../index.js').Handler} Handler\n * @typedef {import('../index.js').Content} Content\n */\nimport { pointStart, pointEnd } from 'unist-util-position';\nimport { wrap } from '../wrap.js';\nimport { all } from '../traverse.js';\n/**\n * @type {Handler}\n * @param {Table} node\n */\n\nexport function table(h, node) {\n  const rows = node.children;\n  let index = -1;\n  const align = node.align || [];\n  /** @type {Array<Element>} */\n\n  const result = [];\n\n  while (++index < rows.length) {\n    const row = rows[index].children;\n    const name = index === 0 ? 'th' : 'td';\n    /** @type {Array<Content>} */\n\n    const out = [];\n    let cellIndex = -1;\n    const length = node.align ? align.length : row.length;\n\n    while (++cellIndex < length) {\n      const cell = row[cellIndex];\n      out.push(h(cell, name, {\n        align: align[cellIndex]\n      }, cell ? all(h, cell) : []));\n    }\n\n    result[index] = h(rows[index], 'tr', wrap(out, true));\n  }\n\n  return h(node, 'table', wrap([h(result[0].position, 'thead', wrap([result[0]], true))].concat(result[1] ? h({\n    start: pointStart(result[1]),\n    end: pointEnd(result[result.length - 1])\n  }, 'tbody', wrap(result.slice(1), true)) : []), true));\n}","map":null,"metadata":{},"sourceType":"module"}